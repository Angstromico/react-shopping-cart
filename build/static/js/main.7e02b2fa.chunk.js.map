{"version":3,"sources":["data.js","reducer.js","context.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["id","title","price","img","amount","reducer","state","action","type","cart","filter","cartItem","payload","tempCart","map","reduce","cartTotal","itemTotal","total","parseFloat","toFixed","loading","Error","AppContext","React","createContext","AppProvider","children","initialState","cartItems","useReducer","dispatch","fetchData","a","fetch","respond","json","useEffect","Provider","value","clearCart","remove","increase","decrease","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","src","alt","onClick","CartContainer","length","item","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7e02b2fa.chunk.js","sourcesContent":["export default [\n  {\n    id: 1,\n    title: 'Samsung Galaxy S7',\n    price: 599.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\n    amount: 1,\n  },\n  {\n    id: 2,\n    title: 'google pixel ',\n    price: 499.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\n    amount: 1,\n  },\n  {\n    id: 3,\n    title: 'Xiaomi Redmi Note 2',\n    price: 699.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\n    amount: 1,\n  },\n];\n","const reducer = (state, action) => {\n  if (action.type === 'CLEAR_CART') {\n    return { ...state, cart: [] };\n  }\n  if (action.type === 'REMOVE') {\n    return {\n      ...state,\n      cart: state.cart.filter((cartItem) => cartItem.id !== action.payload),\n    };\n  }\n  // if (action.type === 'ADD') {\n  //   state.cart.forEach((item) => {\n  //     if (item.id === action.payload) {\n  //       const existingItem = item;\n  //       console.log(existingItem);\n  //     }\n  //   });\n  //   // if (!state.cart.includes(existingItem)) {\n  //   //   return {\n  //   //     ...state,\n  //   //     cart: state.cart.push(existingItem),\n  //   //     alert: false,\n  //   //   };\n  //   // } else {\n  //   //   return { ...state, alert: true };\n  //   // }\n  // }\n  if (action.type === 'INCREASE') {\n    let tempCart = state.cart.map((cartItem) => {\n      if (cartItem.id === action.payload) {\n        return { ...cartItem, amount: cartItem.amount + 1 };\n      }\n      return cartItem;\n    });\n    return { ...state, cart: tempCart };\n  }\n  if (action.type === 'DECREASE') {\n    let tempCart = state.cart\n      .map((cartItem) => {\n        if (cartItem.id === action.payload) {\n          return { ...cartItem, amount: cartItem.amount - 1 };\n        }\n        return cartItem;\n      })\n      .filter((cartItem) => cartItem.amount !== 0);\n    return { ...state, cart: tempCart };\n  }\n  if (action.type === 'GET_TOTALS') {\n    let { total, amount } = state.cart.reduce(\n      (cartTotal, cartItem) => {\n        const { price, amount } = cartItem;\n        const itemTotal = price * amount;\n\n        cartTotal.total += itemTotal;\n        cartTotal.amount += amount;\n        return cartTotal;\n      },\n      {\n        total: 0,\n        amount: 0,\n      }\n    );\n    total = parseFloat(total.toFixed(2));\n\n    return { ...state, total, amount };\n  }\n  if (action.type === 'LOADING') {\n    return { ...state, loading: true };\n  }\n  if (action.type === 'DISPLAY_ITEMS') {\n    return { ...state, cart: action.payload, loading: false };\n  }\n  if (action.type === 'TOGGLE_AMOUNT') {\n    let tempCart = state.cart\n      .map((cartItem) => {\n        if (cartItem.id === action.payload.id) {\n          if (action.payload.type === 'inc') {\n            return { ...cartItem, amount: cartItem.amount + 1 };\n          }\n          if (action.payload.type === 'dec') {\n            return { ...cartItem, amount: cartItem.amount - 1 };\n          }\n        }\n        return cartItem;\n      })\n      .filter((cartItem) => cartItem.amount !== 0);\n    return { ...state, cart: tempCart };\n  }\n  throw new Error('no matching action type');\n};\n\nexport default reducer;\n\n// const reducer = (state, action) => {\n//   switch (action.type) {\n//     case 'CLEAR_CART':\n//       return {\n//         ...state,\n//         cart: [],\n//       };\n//       break;\n//     case 'REMOVE':\n//       return {\n//         ...state,\n//         cart: state.cart.filter((cartItem) => cartItem.id !== action.payload),\n//       };\n//       break;\n//     case 'INCREASE':\n//       let tempCart = state.cart.map((item) => {\n//         if (item.id === action.payload) {\n//           return { ...item, amount: item.amount + 1 };\n//         }\n//         return item;\n//       });\n//       return { ...state, amount: tempCart };\n//       break;\n//     case 'DECREASE':\n//       let tempCart2 = state.cart.map((item) => {\n//         if (item.id === action.payload) {\n//           return { ...item, amount: item.amount - 1 };\n//         }\n//         return item;\n//       });\n//       return { ...state, amount: tempCart2 };\n//       break;\n//     default:\n//       return state;\n//   }\n// };\n//export default reducer;\n","import React, { useState, useContext, useReducer, useEffect } from 'react';\nimport cartItems from './data';\nimport reducer from './reducer';\n// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nconst url = 'https://course-api.com/react-useReducer-cart-project';\nconst AppContext = React.createContext();\n\nconst AppProvider = ({ children }) => {\n  const initialState = {\n    loading: false,\n    cart: cartItems,\n    total: 0,\n    amount: 0,\n  };\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const clearCart = () => {\n    dispatch({ type: 'CLEAR_CART' });\n  };\n  const remove = (id) => {\n    dispatch({ type: 'REMOVE', payload: id });\n  };\n\n  const increase = (id) => {\n    dispatch({ type: 'INCREASE', payload: id });\n  };\n  const decrease = (id) => {\n    dispatch({ type: 'DECREASE', payload: id });\n  };\n  const fetchData = async () => {\n    dispatch({ type: 'LOADING' });\n    const respond = await fetch(url);\n    const cart = await respond.json();\n    dispatch({ type: 'DISPLAY_ITEMS', payload: cart });\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  useEffect(() => {\n    dispatch({ type: 'GET_TOTALS' });\n  }, [state.cart]);\n  return (\n    <AppContext.Provider\n      value={{\n        ...state,\n        clearCart,\n        remove,\n        increase,\n        decrease,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n","import React from 'react';\nimport { useGlobalContext } from './context';\nconst Navbar = () => {\n  const { amount } = useGlobalContext();\n  return (\n    <nav>\n      <div className=\"nav-center\">\n        <h3>Smartel PhoneShop</h3>\n        <div className=\"nav-container\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z\" />\n          </svg>\n          <div className=\"amount-container\">\n            <p className=\"total-amount\">{amount}</p>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React from 'react';\nimport { useGlobalContext } from './context';\nconst CartItem = ({ id, img, title, price, amount }) => {\n  const { remove, increase, decrease } = useGlobalContext();\n  return (\n    <article className=\"cart-item\">\n      <img src={img} alt={title} />\n      <div>\n        <h4>{title}</h4>\n        <h4 className=\"item-price\">${price}</h4>\n        {/* remove button */}\n        <button className=\"remove-btn\" onClick={() => remove(id)}>\n          remove\n        </button>\n      </div>\n      <div>\n        {/* increase amount */}\n        <button className=\"amount-btn\" onClick={() => increase(id)}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z\" />\n          </svg>\n        </button>\n        {/* amount */}\n        <p className=\"amount\">{amount}</p>\n        {/* decrease amount */}\n        <button className=\"amount-btn\" onClick={() => decrease(id)}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n          </svg>\n        </button>\n      </div>\n    </article>\n  );\n};\n\nexport default CartItem;\n","import React from 'react';\nimport CartItem from './CartItem';\nimport { useGlobalContext } from './context';\n\nconst CartContainer = () => {\n  const { cart, total, clearCart } = useGlobalContext();\n  if (cart.length === 0) {\n    return (\n      <section className=\"cart\">\n        {/* cart header */}\n        <header>\n          <h2>your bag</h2>\n          <h4 className=\"empty-cart\">is currently empty</h4>\n        </header>\n      </section>\n    );\n  }\n  return (\n    <section className=\"cart\">\n      {/* cart header */}\n      <header>\n        <h2>your bag</h2>\n      </header>\n      {/* cart items */}\n      <div>\n        {cart.map((item) => {\n          return <CartItem key={item.id} {...item} />;\n        })}\n      </div>\n      {/* cart footer */}\n      <footer>\n        <hr />\n        <div className=\"cart-total\">\n          <h4>\n            total <span>${total}</span>\n          </h4>\n        </div>\n        <button className=\"btn clear-btn\" onClick={clearCart}>\n          clear cart\n        </button>\n      </footer>\n    </section>\n  );\n};\n\nexport default CartContainer;\n","import React from 'react';\nimport { useGlobalContext } from './context';\n\n// components\nimport Navbar from './Navbar';\nimport CartContainer from './CartContainer';\n// items\n\nfunction App() {\n  const { loading, cart } = useGlobalContext();\n  if (loading) {\n    return (\n      <div className=\"loading\">\n        <h1>Loading...</h1>\n      </div>\n    );\n  }\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />; ;\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}